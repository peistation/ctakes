# set up lexica directories
mkdir resources/lexiconClinQuesSTMP resources/lexiconClinQuesSTM resources/lexiconClinQuesSTP resources/lexiconClinQuesST
# run each trainer
java -Xmx1g -cp "resources:lib/hppc-0.3.1.jar:lib/liblinear-1.51.jar:../POS tagger/resources:lib/args4j-2.0.12.jar:bin:$UIMA_HOME/lib/uima-core.jar:$UIMA_HOME/lib/uima-cpe.jar:$UIMA_HOME/lib/uima-tools.jar:$UIMA_HOME/lib/uima-document-annotations.jar:../chunker/bin:../clinical documents pipeline/bin:../context dependent tokenizer/bin:../core/bin:../dictionary lookup/bin:../document preprocessor/bin:../LVG/bin:../NE contexts/bin:../POS tagger/bin:../core/lib/log4j-1.2.8.jar:../core/lib/jdom.jar:../core/lib/lucene-core-3.0.2.jar:../core/lib/opennlp-tools-1.4.3.jar:../core/lib/maxent-2.5.0.jar:../core/lib/OpenAI_FSM.jar:../core/lib/trove.jar:../LVG/lib/lvg2008dist.jar:../document preprocessor/lib/xercesImpl.jar:../document preprocessor/lib/xml-apis.jar:../document preprocessor/lib/xmlParserAPIs.jar:../chunker/resources:../clinical documents pipeline/resources:../context dependent tokenizer/resources:../core/resources:../dictionary lookup/resources:../document preprocessor/resources:../LVG/resources:../NE contexts/resources:../POS tagger/resources" edu.mayo.bmi.uima.core.test.CpeTests desc/test/ClinquesTrainST.xml
rm -f resources/clinques-ST.mod.ftr
java -Xmx1g  -cp "resources:lib/hppc-0.3.1.jar:lib/liblinear-1.51.jar:../POS tagger/resources:lib/args4j-2.0.12.jar:bin:$UIMA_HOME/lib/uima-core.jar:$UIMA_HOME/lib/uima-cpe.jar:$UIMA_HOME/lib/uima-tools.jar:$UIMA_HOME/lib/uima-document-annotations.jar:../chunker/bin:../clinical documents pipeline/bin:../context dependent tokenizer/bin:../core/bin:../dictionary lookup/bin:../document preprocessor/bin:../LVG/bin:../NE contexts/bin:../POS tagger/bin:../core/lib/log4j-1.2.8.jar:../core/lib/jdom.jar:../core/lib/lucene-core-3.0.2.jar:../core/lib/opennlp-tools-1.4.3.jar:../core/lib/maxent-2.5.0.jar:../core/lib/OpenAI_FSM.jar:../core/lib/trove.jar:../LVG/lib/lvg2008dist.jar:../document preprocessor/lib/xercesImpl.jar:../document preprocessor/lib/xml-apis.jar:../document preprocessor/lib/xmlParserAPIs.jar:../chunker/resources:../clinical documents pipeline/resources:../context dependent tokenizer/resources:../core/resources:../dictionary lookup/resources:../document preprocessor/resources:../LVG/resources:../NE contexts/resources:../POS tagger/resources" edu.mayo.bmi.uima.core.test.CpeTests desc/test/ClinquesTrainSTM.xml
rm -f resources/clinques-STM.mod.ftr
java -Xmx1g  -cp "resources:lib/hppc-0.3.1.jar:lib/liblinear-1.51.jar:../POS tagger/resources:lib/args4j-2.0.12.jar:bin:$UIMA_HOME/lib/uima-core.jar:$UIMA_HOME/lib/uima-cpe.jar:$UIMA_HOME/lib/uima-tools.jar:$UIMA_HOME/lib/uima-document-annotations.jar:../chunker/bin:../clinical documents pipeline/bin:../context dependent tokenizer/bin:../core/bin:../dictionary lookup/bin:../document preprocessor/bin:../LVG/bin:../NE contexts/bin:../POS tagger/bin:../core/lib/log4j-1.2.8.jar:../core/lib/jdom.jar:../core/lib/lucene-core-3.0.2.jar:../core/lib/opennlp-tools-1.4.3.jar:../core/lib/maxent-2.5.0.jar:../core/lib/OpenAI_FSM.jar:../core/lib/trove.jar:../LVG/lib/lvg2008dist.jar:../document preprocessor/lib/xercesImpl.jar:../document preprocessor/lib/xml-apis.jar:../document preprocessor/lib/xmlParserAPIs.jar:../chunker/resources:../clinical documents pipeline/resources:../context dependent tokenizer/resources:../core/resources:../dictionary lookup/resources:../document preprocessor/resources:../LVG/resources:../NE contexts/resources:../POS tagger/resources" edu.mayo.bmi.uima.core.test.CpeTests desc/test/ClinquesTrainSTP.xml
rm -f resources/clinques-STP.mod.ftr
java -Xmx1g  -cp "resources:lib/hppc-0.3.1.jar:lib/liblinear-1.51.jar:../POS tagger/resources:lib/args4j-2.0.12.jar:bin:$UIMA_HOME/lib/uima-core.jar:$UIMA_HOME/lib/uima-cpe.jar:$UIMA_HOME/lib/uima-tools.jar:$UIMA_HOME/lib/uima-document-annotations.jar:../chunker/bin:../clinical documents pipeline/bin:../context dependent tokenizer/bin:../core/bin:../dictionary lookup/bin:../document preprocessor/bin:../LVG/bin:../NE contexts/bin:../POS tagger/bin:../core/lib/log4j-1.2.8.jar:../core/lib/jdom.jar:../core/lib/lucene-core-3.0.2.jar:../core/lib/opennlp-tools-1.4.3.jar:../core/lib/maxent-2.5.0.jar:../core/lib/OpenAI_FSM.jar:../core/lib/trove.jar:../LVG/lib/lvg2008dist.jar:../document preprocessor/lib/xercesImpl.jar:../document preprocessor/lib/xml-apis.jar:../document preprocessor/lib/xmlParserAPIs.jar:../chunker/resources:../clinical documents pipeline/resources:../context dependent tokenizer/resources:../core/resources:../dictionary lookup/resources:../document preprocessor/resources:../LVG/resources:../NE contexts/resources:../POS tagger/resources" edu.mayo.bmi.uima.core.test.CpeTests desc/test/ClinquesTrainSTMP.xml
rm -f resources/clinques-STMP.mod.ftr

# run the tests!
mkdir data/outputClinQuesSTMPSTMP
java -cp bin:lib/hppc-0.3.1.jar:resources clear.engine.DepPredict -t data/clinques-test.dep -o data/outputClinQuesSTMPSTMP/doc0.dep -c resources/config_en_clinques-STMP.xml
java -Xmx1g  -cp "resources:lib/hppc-0.3.1.jar:lib/liblinear-1.51.jar:../POS tagger/resources:lib/args4j-2.0.12.jar:bin:$UIMA_HOME/lib/uima-core.jar:$UIMA_HOME/lib/uima-cpe.jar:$UIMA_HOME/lib/uima-tools.jar:$UIMA_HOME/lib/uima-document-annotations.jar:../chunker/bin:../clinical documents pipeline/bin:../context dependent tokenizer/bin:../core/bin:../dictionary lookup/bin:../document preprocessor/bin:../LVG/bin:../NE contexts/bin:../POS tagger/bin:../core/lib/log4j-1.2.8.jar:../core/lib/jdom.jar:../core/lib/lucene-core-3.0.2.jar:../core/lib/opennlp-tools-1.4.3.jar:../core/lib/maxent-2.5.0.jar:../core/lib/OpenAI_FSM.jar:../core/lib/trove.jar:../LVG/lib/lvg2008dist.jar:../document preprocessor/lib/xercesImpl.jar:../document preprocessor/lib/xml-apis.jar:../document preprocessor/lib/xmlParserAPIs.jar:../chunker/resources:../clinical documents pipeline/resources:../context dependent tokenizer/resources:../core/resources:../dictionary lookup/resources:../document preprocessor/resources:../LVG/resources:../NE contexts/resources:../POS tagger/resources" edu.mayo.bmi.uima.core.test.CpeTests desc/test/ClinquesTestSTMTrainSTMP.xml
java -Xmx1g  -cp "resources:lib/hppc-0.3.1.jar:lib/liblinear-1.51.jar:../POS tagger/resources:lib/args4j-2.0.12.jar:bin:$UIMA_HOME/lib/uima-core.jar:$UIMA_HOME/lib/uima-cpe.jar:$UIMA_HOME/lib/uima-tools.jar:$UIMA_HOME/lib/uima-document-annotations.jar:../chunker/bin:../clinical documents pipeline/bin:../context dependent tokenizer/bin:../core/bin:../dictionary lookup/bin:../document preprocessor/bin:../LVG/bin:../NE contexts/bin:../POS tagger/bin:../core/lib/log4j-1.2.8.jar:../core/lib/jdom.jar:../core/lib/lucene-core-3.0.2.jar:../core/lib/opennlp-tools-1.4.3.jar:../core/lib/maxent-2.5.0.jar:../core/lib/OpenAI_FSM.jar:../core/lib/trove.jar:../LVG/lib/lvg2008dist.jar:../document preprocessor/lib/xercesImpl.jar:../document preprocessor/lib/xml-apis.jar:../document preprocessor/lib/xmlParserAPIs.jar:../chunker/resources:../clinical documents pipeline/resources:../context dependent tokenizer/resources:../core/resources:../dictionary lookup/resources:../document preprocessor/resources:../LVG/resources:../NE contexts/resources:../POS tagger/resources" edu.mayo.bmi.uima.core.test.CpeTests desc/test/ClinquesTestSTPTrainSTMP.xml
java -Xmx1g  -cp "resources:lib/hppc-0.3.1.jar:lib/liblinear-1.51.jar:../POS tagger/resources:lib/args4j-2.0.12.jar:bin:$UIMA_HOME/lib/uima-core.jar:$UIMA_HOME/lib/uima-cpe.jar:$UIMA_HOME/lib/uima-tools.jar:$UIMA_HOME/lib/uima-document-annotations.jar:../chunker/bin:../clinical documents pipeline/bin:../context dependent tokenizer/bin:../core/bin:../dictionary lookup/bin:../document preprocessor/bin:../LVG/bin:../NE contexts/bin:../POS tagger/bin:../core/lib/log4j-1.2.8.jar:../core/lib/jdom.jar:../core/lib/lucene-core-3.0.2.jar:../core/lib/opennlp-tools-1.4.3.jar:../core/lib/maxent-2.5.0.jar:../core/lib/OpenAI_FSM.jar:../core/lib/trove.jar:../LVG/lib/lvg2008dist.jar:../document preprocessor/lib/xercesImpl.jar:../document preprocessor/lib/xml-apis.jar:../document preprocessor/lib/xmlParserAPIs.jar:../chunker/resources:../clinical documents pipeline/resources:../context dependent tokenizer/resources:../core/resources:../dictionary lookup/resources:../document preprocessor/resources:../LVG/resources:../NE contexts/resources:../POS tagger/resources" edu.mayo.bmi.uima.core.test.CpeTests desc/test/ClinquesTestSTTrainSTMP.xml
java -Xmx1g  -cp "resources:lib/hppc-0.3.1.jar:lib/liblinear-1.51.jar:../POS tagger/resources:lib/args4j-2.0.12.jar:bin:$UIMA_HOME/lib/uima-core.jar:$UIMA_HOME/lib/uima-cpe.jar:$UIMA_HOME/lib/uima-tools.jar:$UIMA_HOME/lib/uima-document-annotations.jar:../chunker/bin:../clinical documents pipeline/bin:../context dependent tokenizer/bin:../core/bin:../dictionary lookup/bin:../document preprocessor/bin:../LVG/bin:../NE contexts/bin:../POS tagger/bin:../core/lib/log4j-1.2.8.jar:../core/lib/jdom.jar:../core/lib/lucene-core-3.0.2.jar:../core/lib/opennlp-tools-1.4.3.jar:../core/lib/maxent-2.5.0.jar:../core/lib/OpenAI_FSM.jar:../core/lib/trove.jar:../LVG/lib/lvg2008dist.jar:../document preprocessor/lib/xercesImpl.jar:../document preprocessor/lib/xml-apis.jar:../document preprocessor/lib/xmlParserAPIs.jar:../chunker/resources:../clinical documents pipeline/resources:../context dependent tokenizer/resources:../core/resources:../dictionary lookup/resources:../document preprocessor/resources:../LVG/resources:../NE contexts/resources:../POS tagger/resources" edu.mayo.bmi.uima.core.test.CpeTests desc/test/ClinquesTestSTMTrainSTM.xml
java -Xmx1g  -cp "resources:lib/hppc-0.3.1.jar:lib/liblinear-1.51.jar:../POS tagger/resources:lib/args4j-2.0.12.jar:bin:$UIMA_HOME/lib/uima-core.jar:$UIMA_HOME/lib/uima-cpe.jar:$UIMA_HOME/lib/uima-tools.jar:$UIMA_HOME/lib/uima-document-annotations.jar:../chunker/bin:../clinical documents pipeline/bin:../context dependent tokenizer/bin:../core/bin:../dictionary lookup/bin:../document preprocessor/bin:../LVG/bin:../NE contexts/bin:../POS tagger/bin:../core/lib/log4j-1.2.8.jar:../core/lib/jdom.jar:../core/lib/lucene-core-3.0.2.jar:../core/lib/opennlp-tools-1.4.3.jar:../core/lib/maxent-2.5.0.jar:../core/lib/OpenAI_FSM.jar:../core/lib/trove.jar:../LVG/lib/lvg2008dist.jar:../document preprocessor/lib/xercesImpl.jar:../document preprocessor/lib/xml-apis.jar:../document preprocessor/lib/xmlParserAPIs.jar:../chunker/resources:../clinical documents pipeline/resources:../context dependent tokenizer/resources:../core/resources:../dictionary lookup/resources:../document preprocessor/resources:../LVG/resources:../NE contexts/resources:../POS tagger/resources" edu.mayo.bmi.uima.core.test.CpeTests desc/test/ClinquesTestSTPTrainSTP.xml
java -Xmx1g  -cp "resources:lib/hppc-0.3.1.jar:lib/liblinear-1.51.jar:../POS tagger/resources:lib/args4j-2.0.12.jar:bin:$UIMA_HOME/lib/uima-core.jar:$UIMA_HOME/lib/uima-cpe.jar:$UIMA_HOME/lib/uima-tools.jar:$UIMA_HOME/lib/uima-document-annotations.jar:../chunker/bin:../clinical documents pipeline/bin:../context dependent tokenizer/bin:../core/bin:../dictionary lookup/bin:../document preprocessor/bin:../LVG/bin:../NE contexts/bin:../POS tagger/bin:../core/lib/log4j-1.2.8.jar:../core/lib/jdom.jar:../core/lib/lucene-core-3.0.2.jar:../core/lib/opennlp-tools-1.4.3.jar:../core/lib/maxent-2.5.0.jar:../core/lib/OpenAI_FSM.jar:../core/lib/trove.jar:../LVG/lib/lvg2008dist.jar:../document preprocessor/lib/xercesImpl.jar:../document preprocessor/lib/xml-apis.jar:../document preprocessor/lib/xmlParserAPIs.jar:../chunker/resources:../clinical documents pipeline/resources:../context dependent tokenizer/resources:../core/resources:../dictionary lookup/resources:../document preprocessor/resources:../LVG/resources:../NE contexts/resources:../POS tagger/resources" edu.mayo.bmi.uima.core.test.CpeTests desc/test/ClinquesTestSTTrainST.xml

# grab results
data/eval.py data/clinques-test.dep data/outputClinQuesSTMPSTMP/doc0.dep > clinques-results.txt
data/eval.py data/clinques-test.dep data/outputClinQuesSTMPSTM/doc0.dep >> clinques-results.txt
data/eval.py data/clinques-test.dep data/outputClinQuesSTMPSTP/doc0.dep >> clinques-results.txt
data/eval.py data/clinques-test.dep data/outputClinQuesSTMPST/doc0.dep >> clinques-results.txt
data/eval.py data/clinques-test.dep data/outputClinQuesSTMSTM/doc0.dep >> clinques-results.txt
data/eval.py data/clinques-test.dep data/outputClinQuesSTPSTP/doc0.dep >> clinques-results.txt
data/eval.py data/clinques-test.dep data/outputClinQuesSTST/doc0.dep >> clinques-results.txt
